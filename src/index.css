@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global background */
body {
  @apply bg-gb-100 text-gb-900;
  background-image: url('/bg2.png'); /* your uploaded pattern */
  background-repeat: repeat;
  background-size: 300px 300px;
}

/* Pixel art font smoothing */
.pixelated {
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}

/* Panels with retro frame */
.panel {
  @apply border-4 border-poke-border bg-poke-panel shadow-pixel rounded-pixel;
  background-image: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.05) 0px,
    rgba(0, 0, 0, 0.05) 1px,
    transparent 1px,
    transparent 4px
  );
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
  @apply font-press;
}

/* --- Pokéball + Pokémon animations --- */

/* Ball snap when opening */
@keyframes pokeSnap {
  0%   { transform: scale(0.90) rotate(0deg); }
  55%  { transform: scale(1.18) rotate(-12deg); }
  100% { transform: scale(1.00) rotate(-6deg); }
}

.poke-open-sprite {
  transform-origin: 50% 60%;
  will-change: transform;
}

.poke-tab:hover .poke-open-sprite,
.poke-tab:focus-within .poke-open-sprite,
.poke-ball:hover .poke-open-sprite,
.poke-ball:focus-visible .poke-open-sprite {
  opacity: 1;
  animation: pokeSnap 180ms ease-out both;
}

.poke-tab:hover .poke-closed-sprite,
.poke-tab:focus-within .poke-closed-sprite,
.poke-ball:hover .poke-closed-sprite,
.poke-ball:focus-visible .poke-closed-sprite {
  opacity: 0;
}

/* Pokémon pop OUT into open space */
@keyframes popOutFromBallRight {
  0%   { transform: translateX(0) scale(0.65); opacity: 0; }
  60%  { transform: translateX(16px) scale(1.05); opacity: 1; }
  100% { transform: translateX(12px) scale(1.00); opacity: 1; }
}

@keyframes popOutFromBallLeft {
  0%   { transform: translateX(0) scale(0.65); opacity: 0; }
  60%  { transform: translateX(-16px) scale(1.05); opacity: 1; }
  100% { transform: translateX(-12px) scale(1.00); opacity: 1; }
}

/* Bobbing effect (sped up to ~1.1s) */
@keyframes bobRight {
  0%   { transform: translateX(12px); }
  100% { transform: translateX(16px); }
}

@keyframes bobLeft {
  0%   { transform: translateX(-12px); }
  100% { transform: translateX(-16px); }
}

/* Apply animations when tab or ball is hovered/focused */
.poke-tab:hover .poke-mon.dir-right,
.poke-tab:focus-within .poke-mon.dir-right,
.poke-ball:hover ~ .poke-mon.dir-right,
.poke-ball:focus-visible ~ .poke-mon.dir-right {
  opacity: 1;
  animation:
    popOutFromBallRight 220ms ease-out forwards,
    bobRight 1100ms ease-in-out 220ms infinite alternate;
}

.poke-tab:hover .poke-mon.dir-left,
.poke-tab:focus-within .poke-mon.dir-left,
.poke-ball:hover ~ .poke-mon.dir-left,
.poke-ball:focus-visible ~ .poke-mon.dir-left {
  opacity: 1;
  animation:
    popOutFromBallLeft 220ms ease-out forwards,
    bobLeft 1100ms ease-in-out 220ms infinite alternate;
}

/* Overflow guards */
html, body, #root {
  height: 100%;
}

body {
  overflow-y: scroll;
  overflow-x: hidden;
}
